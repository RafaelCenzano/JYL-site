{% extends 'base.html' %}

{% block title %}{% if user.nicknameapprove %}{{ user.nickname}}{% else %}{{ user.firstname }} {{ user.lastname }}{% endif %}{% endblock %}

{% block head_css %}
<link rel='stylesheet' type='text/css' href="{{ url_for('static', filename='css/profile.css') }}">
{% endblock %}

{% block content %}
<div class="half-grid">
    <div class="column">
        {% if user.nicknameapprove %}
        <h1 class="name">{% if current_user.id == user.id %}<a class="edit" href="{{ url_for('userEdit1', num=user.namecount, first=user.firstname, last=user.lastname) }}">{% elif current_user.leader %}<a class="edit" href="{{ url_for('userEdit', userId=user.id ) }}">{% endif %}<span class="underline">{{ user.nickname}}</span>{% if current_user.id == user.id or current_user.leader %}<i class="fas fa-user-edit profile-edit"></i></a>{% endif %}</h1>
        <h3 class="subname">{{ user.firstname }} {{ user.lastname }}</h3>
        {% else %}
        <h1 class="name">{% if current_user.id == user.id %}<a class="edit" href="{{ url_for('userEdit1', num=user.namecount, first=user.firstname, last=user.lastname) }}">{% elif current_user.leader %}<a class="edit" href="{{ url_for('userEdit', userId=user.id ) }}">{% endif %}<span class="underline">{{ user.firstname }} {{ user.lastname }}</span>{% if current_user.id == user.id or current_user.leader %}<i class="fas fa-user-edit profile-edit"></i></a>{% endif %}</h1>
        {% endif %}
        {% if user.admin %}<p class="tag admin">Admin</p>{% endif %}{% if user.leader %}<p class="tag leader">Leader</p>{% endif %}
        <p>{% if user.grade > 12%}Graduated from {% else %}{{ user.grade }}th grader @ {% endif %}{{ user.school }}</p>
        {% if user.showemail %}<p>{{ user.email }}</p>{% endif %}
        {% if user.showphone and user.numberphone %}<p>({{ user.numberphone[:3] }}){{ user.numberphone[3:6] }}-{{ user.numberphone[6:] }}</p>{% endif %}
        {% if user.bio %}<p>{{ user.bio }}</p>{% endif %}
    </div>
    <div class="column">
        <h4 class="desc">Current Hours:</h4>
        <div class="hours lrg"><h4>{{ currentHours }} hrs</h4></div>
        <h4 class="desc">Lifetime Hours: {{ lifetimeHours }}</h4>
    </div>
    <div class="column">
        <div class="buttonwrapper">
            <a class="button" href="{{ url_for('profileMeeting', num=user.namecount, first=user.firstname, last=user.lastname) }}">Meetings {{ currentMeetingHours }}</a>
        </div>
    </div>
    <div class="column">
        <div class="buttonwrapper">
            <a class="button" href="{{ url_for('profileEvent', num=user.namecount, first=user.firstname, last=user.lastname) }}">Events {{ currentEventHours }}</a>
        </div>
    </div>
</div>
{% endblock %}

{% block trailing_js %}
<script type="text/javascript" src="{{ url_for('static', filename='js/profile.js') }}"></script>
{% endblock %}